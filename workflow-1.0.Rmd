---
title: "workflow-1.0"
author: "Rick Gilmore"
date: "`r Sys.time()`"
output: 
  html_document:
    toc: true
    toc_depth: 4
    toc_float: true
    code_folding: hide
---

# PLAY 1.0 Workflow

The following figure depicts the PLAY project workflow as of `r Sys.Date()`.

```{r, fig.cap="Source: https://www.play-project.org/overview.html"}
knitr::include_graphics("https://www.play-project.org/img/overview-project.png")
```

## Pre-collection training

### Overview (1.5 hrs)

### Training 2

### Training 3

### Training 4

## Data collection

See steps described in <https://www.play-project.org/collection.html>

### Upload data

1. *Designated Site RA* creates a session within the site-specific volume and completes Databrary spreadsheet data.
1. *Designated Site RA* uploads video to the site-specific Databrary volume.
1. *Designated Site RA* uploads ambient sound recording to data session on site-specific Databrary volume.
1. *Kobotoolbox application* uploads data file to Kobotoolbox server.
1. *PLAY staff* download Kobotoolbox file from Kobotoolbox server.
1. *PLAY staff* generate NDAR GUID using NYU server.
1. *PLAY staff* add NDAR GUID to appropriate session and volume.

#### Discussion

- *Launch Group PIs* will 'co-own' data with PLAY PIs, so uploading to site-specific Databrary volumes makes sense for initial upload.
This also ensures that session-specific metadata is entered in a consistent fashion and makes it possible to create automated workflows down the line.
- *How does Kobotoolbox questionnaire data get from Kobotoolbox server to the proper volume and session?*

## Quality Assurance (QA)

### Discussion

- *PLAY staff* must retrieve video and audio files from site-specific volumes and sessions. 
  - *How do PLAY staff know when there are files for them to process?*
  - *Can Databrary's notifications feature provide information about uploaded files that are ready for QA?*
- *PLAY staff* must download video files from site-specific volumes to i) play videos and ii) generate QA Datavyu file.
  - *What is the QA coding protocol?*
  - *What is an example QA Datavyu file?*
  - *Could we use Box as working file server for QA and coding assignments?*
    - Box would be more flexible than creating new Databrary volumes.
    - Box has an API that we might be able to access via scripts.
- *Do audio files undergo QA?*
- *How does questionnaire data undergo QA?*

## Coding

### Pre-coding training

1. *PLAY staff* ship coding equipment to coding labs.
1. *PLAY staff* conduct training.

### Assigning videos to coding labs

### Coding labs acquire videos

### Coding

Coding protocols for each pass are described in <https://www.play-project.org/coding.html>

### Coding files get returned

## Coding Quality Assurance (QA)

### Coding QA

### Reliability

## Merge coded data

## Clean and upload
